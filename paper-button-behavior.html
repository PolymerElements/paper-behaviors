<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-behaviors/iron-button-state.html">

<script>

  /** @polymerBehavior */
  Polymer.PaperButtonBehavior = [
    Polymer.IronButtonState,
    Polymer.IronControlState,
    {
      properties: {

        /**
         * True if the input device that caused the element to receive focus
         * was a keyboard.
         */
        receivedFocusFromKeyboard: {
          type: Boolean,
          computed: '_computeReceivedFocusFromKeyboard(focused)'
        },

        _elevation: {
          type: Number
        }
      },

      hostAttributes: {
        role: 'button',
        tabindex: '0'
      },

      _calculateElevation: function() {
        var e = 1;
        if (this.disabled || !this.raised) {
          e = 0;
        } else if (this.active || this.pressed) {
          e = 4;
        } else if (this.receivedFocusFromKeyboard) {
          e = 3;
        }
        this._elevation = e;
      },

      _computeReceivedFocusFromKeyboard: function(focused) {
        return !this.pointerDown && focused;
      }
    }
  ];

</script>
